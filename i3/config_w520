# autostarts
exec --no-startup-id compton --config ~/.config/compton.conf -b
exec_always --no-startup-id setroot --restore
exec --no-startup-id nm-applet
exec --no-startup-id redshift
#exec --no-startup-id volumeicon
#exec --no-startup-id owncloud
#exec --no-startup-id dropbox
#exec --no-startup-id xss-lock -- $Locker
#exec --no-startup-id urxvt -name tty-clock -e tty-clock -C 2 -c -d 20000000000

# general config
font pango:Noto Sans 10
hide_edge_borders both
new_window none
smart_borders on
gaps inner 0
gaps outer 0
#new_window pixel 1
#new_float pixel 1  

# Rofi 
bindsym $mod+d exec rofi -show run

# i3 basics
set $mod Mod1
# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
# kill focused window
bindsym $mod+Shift+q kill
# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
# split in horizontal orientation
bindsym $mod+c split h
# split in vertical orientation
bindsym $mod+v split v
# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle
# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
# toggle tiling / floating
bindsym $mod+Shift+space floating toggle
# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle
# Make the currently focused window a scratchpad
bindsym $mod+Shift+minus move scratchpad
# Show the first scratchpad window
bindsym $mod+minus scratchpad show
# jump to urgent window
bindsym $mod+x [urgent=latest] focus
# workspace names
set $WS1 1
set $WS2 2
set $WS3 3
set $WS4 4
set $WS5 5
set $WS6 6
set $WS7 7
set $WS8 8
set $WS9 9
set $WS10 10
# switch to workspace
bindsym $mod+1 workspace $WS1
bindsym $mod+2 workspace $WS2
bindsym $mod+3 workspace $WS3
bindsym $mod+4 workspace $WS4
bindsym $mod+5 workspace $WS5
bindsym $mod+6 workspace $WS6
bindsym $mod+7 workspace $WS7
bindsym $mod+8 workspace $WS8
bindsym $mod+9 workspace $WS9
bindsym $mod+0 workspace $WS10
# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $WS1
bindsym $mod+Shift+2 move container to workspace $WS2
bindsym $mod+Shift+3 move container to workspace $WS3
bindsym $mod+Shift+4 move container to workspace $WS4
bindsym $mod+Shift+5 move container to workspace $WS5
bindsym $mod+Shift+6 move container to workspace $WS6
bindsym $mod+Shift+7 move container to workspace $WS7
bindsym $mod+Shift+8 move container to workspace $WS8
bindsym $mod+Shift+9 move container to workspace $WS9
bindsym $mod+Shift+0 move container to workspace $WS10

# resize window (you can also use the mouse for that)
mode "  " {
        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym semicolon resize grow width 10 px or 10 ppt
        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
bindsym $mod+r mode "  "

# locker
#set $Locker i3lock -c '#000000' -l '#ffffff' -o '#0088CC' -w '#FF3500' && sleep 1
set $Locker urxvt -name tty-clock -e tty-clock -C 2 -c -d 20000000000 -b && sleep 5
# custom mode
set $system_ctl System (l) lock, (e) logout, (s) suspend, (r) reboot, (Shift+s) shutdown
mode "$system_ctl" {
    bindsym l exec --no-startup-id $Locker, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id systemctl suspend, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+s exec --no-startup-id systemctl poweroff -i, mode "default"
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Pause mode "$system_ctl"

# keep floating windows floating
for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [class="Floating"] floating enable
for_window [window_role="Msgcompose"] floating enable
for_window [title="Preferences$"] floating enable
for_window [class="Pavucontrol"] floating enable
for_window [class="TeamViewer.exe"] floating enable
for_window [class="Xfce4-appfinder"] floating enable
for_window [class="Gimp"] floating enable
for_window [class="Calendar"] floating enable

# window defaults
for_window [class="Uzbl-core"] focus child, layout stacking, focus
for_window [class="Firefox"] layout stacking
for_window [class="Thunderbird"] layout stacking
for_window [class="Chromium"] layout stacking
for_window [class="URxvt" instance="tty-clock"] fullscreen enable
#for_window [instance="scratchpad"] move window to scratchpad, scratchpad show

# application workspaces
assign [class="URxvt"] $WS1
assign [class="Firefox"] $WS2
assign [class="Thunderbird"] $WS2
assign [class="Subl3"] $WS3
assign [class="Sunflower"] $WS4
assign [class="URxvt" instance="cmus"] $ws10

# custom binds
bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Shift+w exec firefox
bindsym $mod+Shift+t exec thunderbird
bindsym $mod+Shift+a exec atom
bindsym $mod+Shift+p exec xfce4-appfinder
bindsym $mod+Shift+s exec subl3
bindsym $mod+Shift+f exec sunflower
bindsym $mod+Shift+g exec i3-sensible-terminal -e ranger
bindsym $mod+Shift+m exec i3-sensible-terminal -e cmus

# audio
bindsym XF86AudioLowerVolume exec --no-startup-id /usr/bin/pulseaudio-ctl down
bindsym XF86AudioRaiseVolume exec --no-startup-id /usr/bin/pulseaudio-ctl up
bindsym XF86AudioMute exec --no-startup-id /usr/bin/pulseaudio-ctl mute
bindsym XF86AudioMicMute exec --no-startup-id /usr/bin/pulseaudio-ctl mute-input
# auto player
bindsym XF86AudioPlay exec cmus-remote --pause
bindsym XF86AudioStop exec cmus-remote --stop
bindsym XF86AudioNext exec cmus-remote --next
bindsym XF86AudioPrev exec cmus-remote --prev
# screen
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -10
bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight +10
# power
bindsym XF86Sleep exec --no-startup-id systemctl suspend

bar {
  status_command i3status --config ~/.config/i3/i3status.conf
  position	top
  #tray_output	LVDS1
  tray_padding  4
  height 25
  font pango:Noto Sans, FontAwesome 11
  separator_symbol "     "
  bindsym button4 nop
  bindsym button5 nop

  colors {
    separator #3a4055
    background #3a4055
    statusline #e6e1dc
    focused_workspace #a5c261 #a5c261 #2b2b2b
    active_workspace #3a4055 #3a4055 #5a647e
    inactive_workspace #3a4055 #3a4055 #5a647e
    urgent_workspace #da4939 #da4939 #f9f7f3
  }
}

client.focused #a5c261 #a5c261 #2b2b2b #ffc66d
client.focused_inactive #5a647e #5a647e #d4cfc9 #5a647e
client.unfocused #3a4055 #3a4055 #5a647e #5a647e
client.urgent #da4939 #da4939 #f9f7f3 #da4939
