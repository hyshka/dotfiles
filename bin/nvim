#!/bin/bash
# Command for running neovim

if [[ "$1" = /* ]]; then
  file_name="$(basename ${1})"
  dir_name="$(dirname ${1})"
else
  file_name="$1"
  dir_name="$(pwd)"
fi

# Run the docker command
docker run -it -P -e DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix -v "$dir_name":/src --name neovim hyshka/neovim /bin/sh -c "cd /src;nvim $file_name"
